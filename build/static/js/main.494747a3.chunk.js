(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,t,n){e.exports=n(41)},21:function(e,t,n){},22:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),c=n.n(o),u=(n(21),n(5)),i=(n(22),n(2)),l=n.n(i),s=n(3),m=n(4),d=n.n(m),f="http://localhost:3001/api/persons",p={getAll:function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.a.get(f),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.a.post(f,t),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.a.delete("".concat(f,"/").concat(t)),e.next=3,n;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.persons,n=e.deletePerson;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("div",{key:e.name},e.name," ",e.number,r.a.createElement("button",{onClick:function(){return n(e.id)}},"delete"))})))},v=function(e){return r.a.createElement("form",{onSubmit:e.addContact},r.a.createElement("div",null,"name:",r.a.createElement("input",{value:e.newName,onChange:e.handleNameChange})),r.a.createElement("div",null,r.a.createElement("button",{onClick:e.addContact,type:"submit"},"add")))},b=function(e){return r.a.createElement("div",{className:"notification"},e.text)},w=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),l=i[0],s=i[1],m=Object(a.useState)(""),d=Object(u.a)(m,2),f=d[0],w=d[1],E=function(e){w(e),setTimeout(w,3e3,"")};Object(a.useEffect)((function(){p.getAll().then((function(e){o(e)}))}),[]);var k=n.map((function(e){return e.name}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),f.length>0&&r.a.createElement(b,{text:f}),r.a.createElement(v,{handleNameChange:function(e){s(e.target.value)},newName:l,addContact:function(e){e.preventDefault();var t={name:l};k.includes(t.name)?(window.alert("".concat(l," is already added to the phonebook")),s("")):p.create(t).then((function(e){o(n.concat(e)),s(""),E("Added ".concat(l," to the phonebook"))}))}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(h,{persons:n,deletePerson:function(e){var t=n.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.name))&&p.remove(e).then((function(a){o(n.filter((function(t){return t.id!==e}))),E("Deleted ".concat(t.name))})).catch((function(){o(n.filter((function(t){return t.id!==e})))}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.494747a3.chunk.js.map